# Асинхронность - setInterval

## Определение
`setInterval` — встроенная функция JavaScript, которая запускает переданную функцию через **заданные интервалы времени** (в миллисекундах) и продолжает это делать, пока не будет остановлена с помощью `clearInterval()`.

---
## Синтаксис
```js
setInterval(callback, delay, arg1, arg2, ...);
```

- **callback** — функция, которая будет выполняться каждые delay миллисекунд.
- **delay** — интервал в миллисекундах (1000 мс = 1 секунда).
- **…args** — дополнительные аргументы, которые будут переданы в callback.

---
## **Возвращаемое значение**

> [!warning]
> Вызов setTimeout() возвращает **идентификатор таймера**:
> - В **браузере** — это целое число (1, 2, 3…).
> - В **Node.js** — это объект Timeout, который можно передать в clearTimeout().

Этот ID используется для отмены выполнения повторяющейся задачи.

```js
const intervalId = setInterval(() => {
  console.log('Это сообщение будет выводиться каждые 2 секунды');
}, 2000);

console.log(intervalId); // Например: 1 в браузере

clearInterval(intervalId); // Останавливает выполнение
```

---
## **Особенности**

> [!warning]
>- setInterval будет выполнять задачу бесконечно, пока она не будет остановлена через clearInterval.
>- Минимальный интервал в браузерах может быть не меньше 4 мс. Поэтому разницы между `setInterval(cb, 1)` и `setInterval(cb, 4)` нет
>- Интервал между вызовами **не гарантирован точно** — он зависит от времени выполнения кода и Event Loop.
>- Задачи setInterval попадают в **Macrotask Queue**.

---
## **Где использовать**

> [!info]
> - Регулярное обновление интерфейса
> - Таймеры обратного отсчёта
> - Проверка состояния сервера или данных
> - Анимации (но для плавных анимаций лучше requestAnimationFrame)

---
## **Примеры**
### **Базовый пример**

```js
let count = 0;

const intervalId = setInterval(() => {
  count++;
  console.log(`Вызов №${count}`);
  
  if (count === 5) {
    clearInterval(intervalId); // Останавливаем после 5 вызовов
  }
}, 1000);
```

**Результат в консоли:**

```
Вызов №1
Вызов №2
Вызов №3
Вызов №4
Вызов №5
```

---
### **Отмена интервала**

```js
const intervalId = setInterval(() => {
  console.log('Это сообщение не будет выведено');
}, 2000);

clearInterval(intervalId); // Отмена сразу
```

---
