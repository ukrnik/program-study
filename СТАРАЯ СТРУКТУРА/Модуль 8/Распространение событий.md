## –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ —Ç–µ—Ä–º–∏–Ω, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å–æ–±—ã—Ç–∏—è. –ö–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–æ–±—ã—Ç–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–ª–∏–∫), –æ–Ω–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ —Ç—Ä–∏ —ç—Ç–∞–ø–∞:

1. **–§–∞–∑–∞ –∑–∞—Ö–≤–∞—Ç–∞ (Capturing Phase)** ‚Äì —Å–æ–±—ã—Ç–∏–µ –∏–¥–µ—Ç —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑ –ø–æ –¥–µ—Ä–µ–≤—É DOM.
2. **–§–∞–∑–∞ —Ü–µ–ª–∏ (Target Phase)** ‚Äì —Å–æ–±—ã—Ç–∏–µ –¥–æ—Ö–æ–¥–∏—Ç –¥–æ —ç–ª–µ–º–µ–Ω—Ç–∞, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –ø—Ä–æ–∏–∑–æ—à–ª–æ.
3. **–§–∞–∑–∞ –≤—Å–ø–ª—ã—Ç–∏—è (Bubbling Phase)** ‚Äì —Å–æ–±—ã—Ç–∏–µ –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ –≤–≤–µ—Ä—Ö –ø–æ –¥–µ—Ä–µ–≤—É DOM.

![[Pasted image 20250204022631.png]]

> [!info] **–ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏:**
> –ö–æ–≥–¥–∞ –≤—ã –∫–ª–∏–∫–∞–µ—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É –≤–Ω—É—Ç—Ä–∏ div, —Å–Ω–∞—á–∞–ª–∞ —Å–æ–±—ã—Ç–∏–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã, –∑–∞—Ç–µ–º –¥–æ—Å—Ç–∏–≥–∞–µ—Ç –∫–Ω–æ–ø–∫–∏, –∞ –ø–æ—Ç–æ–º –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ.

<font color="#fcb97d">`ris:Question`</font> –ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ —á–∞—â–µ –≤—Å–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–æ–ª—å–∫–æ —Ñ–∞–∑—É –≤—Å–ø–ª—ã—Ç–∏—è.

---
### –ü—Ä–∏–º–µ—Ä ‚Ññ1: –§–∞–∑–∞ –≤—Å–ø–ª—ã—Ç–∏—è (Bubbling Phase)

![[Pasted image 20250204025449.png]]

```html
<div id="parent">
  Parent
  <div id="child">
    Child
    <div id="descendant">Descendant</div>
  </div>
</div>

```

```js
const parent = document.querySelector("#parent");
const child = document.querySelector("#child");
const descendant = document.querySelector("#descendant");

parent.addEventListener("click", () => {
  console.log("Parent click handler");
});

child.addEventListener("click", () => {
  console.log("Child click handler");
});

descendant.addEventListener("click", () => {
  console.log("Descendant click handler");
});

```

> [!cog] **–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?**
> 1. –ö–ª–∏–∫–∞–µ–º –ø–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É `<div id="descendant">`.
> 2. –°–æ–±—ã—Ç–∏–µ —Å–Ω–∞—á–∞–ª–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ descendant (—Ñ–∞–∑–∞ —Ü–µ–ª–∏).
> 3. –ó–∞—Ç–µ–º –≤—Å–ø–ª—ã–≤–∞–µ—Ç –≤–≤–µ—Ä—Ö –∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞ `<div id="child">` –∏ –ø–æ—Å–ª–µ –Ω–∞ `<div id="parent">`.

---
## –¶–µ–ª–µ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç



---
### –ü—Ä–∏–º–µ—Ä ‚Ññ2: –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–ø–ª—ã—Ç–∏—è: event.stopPropagation()

<font color="#fcb97d">`ris:Question`</font> –ï—Å–ª–∏ –Ω–∞–º –Ω–µ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã —Å–æ–±—ã—Ç–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∞–ª–æ –≤—Å–ø–ª—ã–≤–∞—Ç—å, –º–æ–∂–Ω–æ –µ–≥–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å –ø–æ–º–æ—â—å—é event.stopPropagation().

```html
<div id="parent" style="padding: 20px; background: lightblue;">
    <button id="child">–ö–ª–∏–∫–Ω–∏ –º–µ–Ω—è</button>
</div>
```

```js
    document.getElementById("parent").addEventListener("click", function() {
        alert("–ö–ª–∏–∫ –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª–µ");
    });

    document.getElementById("child").addEventListener("click", function(event) {
        event.stopPropagation(); // –û—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –≤—Å–ø–ª—ã—Ç–∏–µ
        alert("–ö–ª–∏–∫ –Ω–∞ –∫–Ω–æ–ø–∫–µ (—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –ù–ï —Å—Ä–∞–±–æ—Ç–∞–µ—Ç)");
    });
```

> [!warning] –¢–µ–ø–µ—Ä—å –∫–ª–∏–∫ –ø–æ –∫–Ω–æ–ø–∫–µ –ù–ï –≤—ã–∑–æ–≤–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ click —É —Ä–æ–¥–∏—Ç–µ–ª—è.

---
### –ü—Ä–∏–º–µ—Ä ‚Ññ3: –§–∞–∑–∞ –∑–∞—Ö–≤–∞—Ç–∞ (Capturing Phase)

<font color="#fcb97d">`ris:Question`</font> –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤–æ **–≤—Å–ø–ª—ã–≤–∞—é—â–µ–π —Ñ–∞–∑–µ**.
<font color="#fcb97d">`ris:Question`</font> –ù–æ –º—ã –º–æ–∂–µ–º –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ **–Ω–∞ —ç—Ç–∞–ø–µ –∑–∞—Ö–≤–∞—Ç–∞**, –ø–µ—Ä–µ–¥–∞–≤ true —Ç—Ä–µ—Ç—å–∏–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º –≤ addEventListener().

```html
<div id="parent" style="padding: 20px; background: lightblue;">
    <button id="child">–ö–ª–∏–∫–Ω–∏ –º–µ–Ω—è</button>
</div>
```

```js
    document.getElementById("parent").addEventListener("click", function() {
        alert("–°–æ–±—ã—Ç–∏–µ –ø–æ–π–º–∞–Ω–æ –Ω–∞ —ç—Ç–∞–ø–µ –∑–∞—Ö–≤–∞—Ç–∞!");
    }, true);
```

> [!warning] –¢–µ–ø–µ—Ä—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç **–¥–æ —Ç–æ–≥–æ, –∫–∞–∫ —Å–æ–±—ã—Ç–∏–µ –¥–æ—Å—Ç–∏–≥–Ω–µ—Ç –∫–Ω–æ–ø–∫–∏**.

---
### –ü—Ä–∏–º–µ—Ä ‚Ññ4: –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤: event.stopImmediatePropagation()

<font color="#fcb97d">`ris:Question`</font> –ï—Å–ª–∏ —É —ç–ª–µ–º–µ–Ω—Ç–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –æ–¥–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏—è, –º–æ–∂–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é stopImmediatePropagation().

```html
<button id="btn">–ö–ª–∏–∫–Ω–∏ –º–µ–Ω—è</button>
```

```js
    document.getElementById("btn").addEventListener("click", function(event) {
        event.stopImmediatePropagation(); // –û—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
        alert("–ü–µ—Ä–≤—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫");
    });

    document.getElementById("btn").addEventListener("click", function() {
        alert("–≠—Ç–æ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –ù–ï –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è!");
    });
```

> [!warning] –¢–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è, –≤—Ç–æ—Ä–æ–π ‚Äì –Ω–µ—Ç.

---
## üìå –ò–¢–û–ì:

- **–í—Å–ø–ª—ã—Ç–∏–µ —Å–æ–±—ã—Ç–∏–π** ‚Äì —Å–æ–±—ã—Ç–∏–µ –∏–¥–µ—Ç –æ—Ç —Ü–µ–ª–µ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤–≤–µ—Ä—Ö –ø–æ DOM.
- **–ó–∞—Ö–≤–∞—Ç —Å–æ–±—ã—Ç–∏–π** ‚Äì —Å–æ–±—ã—Ç–∏–µ –∏–¥–µ—Ç —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑ –ø–µ—Ä–µ–¥ —Ü–µ–ª–µ–≤—ã–º —ç–ª–µ–º–µ–Ω—Ç–æ–º.
- stopPropagation() ‚Äì –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Å–ø–ª—ã—Ç–∏–µ —Å–æ–±—ã—Ç–∏—è.
- stopImmediatePropagation() ‚Äì –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –í–°–ï –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–µ.
- –ú–æ–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Ñ–∞–∑–∞–º–∏ —Å–æ–±—ã—Ç–∏–π —Å –ø–æ–º–æ—â—å—é true –≤ addEventListener().
