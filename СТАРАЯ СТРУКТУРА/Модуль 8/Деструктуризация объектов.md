## Описание

<font color="#409CFF">`fas:InfoCircle`</font> Позволяет извлекать значения из объекта в переменные.
<font color="#fcb97d">`ris:Question`</font> Сложные данные всегда представлены объектом. Многократные обращения к свойствам объекта зрительно загрязняют код.

```js
const user = {
    name: "Alice",
    age: 25,
    country: "Germany"
};

const { name, age, country } = user;

console.log(name);    // Alice
console.log(age);     // 25
console.log(country); // Germany
```

Деструктуризация позволяет «распаковать» значение свойств объекта в локальные переменные. Это делает код в месте их использования менее «шумным».

> [!done]
> Теперь name = "Alice", age = 25, country = "Germany".

> [!cog]
> После ключевого слова **const** или **let** ставим фигурные скобки, как и в случае объявления объекта.
> Внутри скобок, через запятую, указываем имена переменных, которым будут заданы соответствующие значения свойств деструктуризированного объекта.
> - Деструктуризация всегда находится в левой части операции присваивания.
> - Переменным внутри фигурных скобок присваиваются значения одноименных свойств объекта с соответствующими именами.
> - Последовательность объявления переменных в фигурных скобках не важна.

---
### Значения по умолчанию

<font color="#409CFF">`fas:InfoCircle`</font> Если свойства в объекте нет, можно задать **значение по умолчанию**.

```js
const user = { name: "Alice" };

const { name, age = 30 } = user;

console.log(name); // Alice
console.log(age);  // 30 (значение по умолчанию)
```

---
### Изменение имени переменной

<font color="#409CFF">`fas:InfoCircle`</font> Можно задать другие имена переменным.

```js
const user = { name: "Alice", age: 25, country: Germany };

const { name: userName, age: userAge, country } = user;

console.log(userName); // Alice
console.log(userAge);  // 25
console.log(country);  // Germany
```

Для этого пишем:

- имя свойства, из которого хотим получить значение
- ставим двоеточие :
- пишем имя переменной, в которую необходимо поместить значение этого свойства.

> [!done]
> Свойство name записали в userName, а age в userAge.

---
### Значения по умолчанию + Изменение имени переменной

```js {3}
const user = { name: "Alice", age: 25, country: Germany };

const { name: userName, age: userAge = 18, country } = user;

console.log(userName); // Alice
console.log(userAge);  // 25
console.log(country);  // Germany
```

> [!attention]
> Если такое свойство существует в объекте, в переменную будет присвоено его значение.
В противном случае переменной будет присвоено значение по умолчанию.

> [!done]
> Теперь если в объекте нет age то будет присвоено переменной userAge значение по умолчанию

---
### Вложенная деструктуризация

<font color="#409CFF">`fas:InfoCircle`</font> Если объект содержит вложенные объекты, их тоже можно деструктурировать.

```js
const user = {
    name: "Alice",
    address: {
        city: "Berlin",
        country: "Germany"
    }
};

const { address: { city, country } } = user;

console.log(city);    // Berlin
console.log(country); // Germany
```

> [!done]
> Теперь city = "Berlin", country = "Germany".

---
### Деструктуризация в функциях

#### С деструктуризацией объекта в месте объявления параметров:

<font color="#409CFF">`fas:InfoCircle`</font> Можно использовать деструктуризацию прямо в аргументах функции.

```js
function greet({ name, age }) {
    console.log(`Привет, ${name}! Тебе ${age} лет.`);
}

const user = { name: "Alice", age: 25 };

greet(user); // Привет, Alice! Тебе 25 лет.
```

> [!done]
> Из объекта user сразу извлекли name и age.

#### С деструктуризацией объекта в теле функции:

```js
function printUserInfo(user) {
const { name, age, hobby } = user
  console.log(`Name: ${name}, Age: ${age}, Hobby: ${hobby}`);
}

printUserInfo({ 
	name: "Alice", 
	age: 25, 
	hobby: "dancing" 
}); // Name: Alice, Age: 25, Hobby: dancing
```

#### Какой вариант лучше использовать?

| **<center>Вариант</center>**        | <center>**Когда использовать?**</center>                                                                                         |
| ----------------------------------- | -------------------------------------------------------------------------------------------------------------------------------- |
| **Деструктуризация в параметрах**   | Если функция использует **только часть объекта** и ты уверен, что объект **всегда содержит нужные свойства**.                    |
| **Деструктуризация в теле функции** | Если объект может быть **пустым, null или undefined**, или если нужно **предварительно обработать данные** перед использованием. |

---
## Деструктуризация в циклах

Во время итерации по массиву объектов циклом [[Цикл for...of|for...of]] происходят многократные обращения к свойствам объекта.

```js
const books = [
  {
    title: "The Last Kingdom",
    author: "Bernard Cornwell",
    rating: 8.38,
  },
  {
    title: "Beside Still Waters",
    author: "Robert Sheckley",
    rating: 8.51,
  },
];

for (const book of books) {
  console.log(book.title);
  console.log(book.author);
  console.log(book.rating);
}
```

Чтобы сократить количество повторений, можно деструктуризировать свойства объекта в локальные переменные в теле цикла.

```js
for (const book of books) {
  const { title, author, rating } = book;

  console.log(title);
  console.log(author);
  console.log(rating);
}
```

Если объект содержит немного свойств, деструктуризацию можно выполнить непосредственно в месте объявления переменной book.

```js
for (const { title, author, rating } of books) {
  console.log(title);
  console.log(author);
  console.log(rating);
}
```

---
## Паттерн «Объект параметров» в JavaScript

### Описание

Паттерн «Объект параметров» (Parameter Object Pattern) – это способ передавать в функцию один объект с параметрами вместо множества аргументов.

**Простыми словами:**

Вместо длинного списка аргументов передаем **один объект**, содержащий все необходимые данные.

---
### Синтаксис

<font color="#f71735">`ris:Alert`</font> **Проблема без «Объекта параметров»**

```js
function createUser(name, age, isAdmin, country, email) {
    return `User ${name}, ${age} years old, from ${country}, ${isAdmin ? "Admin" : "User"}, Email: ${email}`;
}

console.log(createUser("Alice", 25, true, "Germany", "alice@example.com"));
```

❌ **Проблемы этого подхода**:

- Порядок аргументов **важен** – легко запутаться.
- Если добавить новый параметр, нужно менять **все вызовы функции**.
- Плохая читаемость, особенно если передаются true/false или числа.

✅ **Решение: используем «Объект параметров»**

```js
function createUser({ name, age, isAdmin = false, country, email }) {
    return `User ${name}, ${age} years old, from ${country}, ${isAdmin ? "Admin" : "User"}, Email: ${email}`;
}

const userInfo = {
    name: "Alice",
    age: 25,
    isAdmin: true,
    country: "Germany",
    email: "alice@example.com",
};

console.log(createUser(userInfo));
```

---
### Вложенные объекты в «Объекте параметров»

<font color="#409CFF">`fas:InfoCircle`</font> Можно передавать сложные структуры данных:

```js
function createUser({ name, age, contact: { email, phone } }) {
    return `User: ${name}, ${age} years old. Email: ${email}, Phone: ${phone}`;
}

const userInfo = {
    name: "Alice",
    age: 25,
    contact: {
        email: "alice@example.com",
        phone: "+49 123 456 789",
    }
};

console.log(createUser(userInfo));
```

> [!done]
> Теперь contact – это **вложенный объект**, и мы деструктурируем его в аргументах.

---
## Глубокая деструктуризация

<font color="#409CFF">`fas:InfoCircle`</font> Для деструктуризации свойств вложенных объектов используются те же принципы. Для начала напишем код деструктуризации свойств пользовательского объекта.

```js
const user = {
  name: "Jacques Gluke",
  tag: "jgluke",
  stats: {
    followers: 5603,
    views: 4827,
    likes: 1308,
  },
};

const { name, tag, stats } = user;

console.log(name); // Jacques Gluke
console.log(tag); // jgluke
console.log(stats); // { followers: 5603, views: 4827, likes: 1308 }
```

Для этого в деструктуризации после имени свойства ставим двоеточие : и начинаем деструктуризацию объекта для этого свойства.

```js
const user = {
  name: "Jacques Gluke",
  tag: "jgluke",
  stats: {
    followers: 5603,
    views: 4827,
    likes: 1308,
  },
};

const {
  name,
  tag,
  stats: { followers, views, likes },
} = user;

console.log(name); // Jacques Gluke
console.log(tag); // jgluke
console.log(followers); // 5603
console.log(views); // 4827
console.log(likes); // 1308
```

При глубокой деструктуризации можно изменять имена переменных и присваивать значения по умолчанию.

```js
const user = {
  name: "Jacques Gluke",
  tag: "jgluke",
  stats: {
    followers: 5603,
    views: 4827,
    likes: 1308,
  },
};

const {
  name,
  tag,
  stats: { followers = 0, views: userViews = 0, likes: userLikes = 0 },
} = user;

console.log(name); // Jacques Gluke
console.log(tag); // jgluke
console.log(followers); // 5603
console.log(userViews); // 4827
console.log(userLikes); // 1308
```

---