DOM API (Document Object Model Application Programming Interface) имеет широкий функционал. С его помощью можно:

- выбирать или изменять уже существующие элементы
- удалять элементы
- создавать новые элементы и добавлять их в документ

## Создание элементов

```js
document.createElement(tagName)
```

- создает элемент с именем <font color="#1ac8ed">tagName</font> и возвращает ссылку на его объект как результат своего исполнения.
- <font color="#1ac8ed"> tagName</font> — это строка, указывающая тип создаваемого элемента.
- Элемент создается в памяти, в DOM его еще нет.
- 
```js
const heading = document.createElement("h1");
```

После создания элемента heading получаем ссылку на его объект в памяти. С этого момента можно обращаться к свойствам ([[Свойство style]], [[Свойство classList]], [[Свойство textContent]]) объекта и изменять их еще до того, как вставим этот элемент в DOM.

```js
const heading = document.createElement("h1");
headding.classList.add("title");
heading.textContent = "This is a heading";
console.log(heading); // <h1 class="title">This is a heading</h1>

const image = document.createElement("img");
image.src = "https://picsum.photos/id/11/320/240";
image.alt = "Nature";
console.log(image); // <img src="https://picsum.photos/id/11/320/240" alt="Nature" />
```

---
## Добавление элементов

Чтобы созданный элемент отображался на странице, его необходимо добавить к существующему элементу в DOM-дереве. Предположим, что добавляем к определенному элементу elem, для этого есть следующие способы.

`elem.append(el1, el2, ...)` – добавляет один или несколько элементов <font color="#fac08f">после всех детей элемента elem.</font>
`elem.prepend(el1, el2, ...)` – добавляет один или несколько элементов <font color="#fac08f">перед всеми детьми элемента elem.</font>

![[Снимок экрана 2025-01-14 в 21.47.39.png]]

<font color="#f71735">`ris:Alert`</font> Обрати внимание! Если элемент добавления уже находится в DOM, то он удаляется со своего старого места и добавляется в новое. Итак, есть правило: один и тот же элемент не может быть одновременно в двух местах.

так как каждый элемент в дереве уникальный, если мы добавляем уже существующий элемент то он удаляется и переносится на новое место

```html
<div id="container1">
  <p id="paragraph">Этот текст будет перемещён.</p>
</div>

<div id="container2"></div>
```

```js
// Находим элементы
const paragraph = document.getElementById('paragraph');
const container2 = document.getElementById('container2');

// Перемещаем абзац в другой контейнер
container2.append(paragraph);
```

   `fas:ArrowDown`

<font color="#fcb97d"> Что произойдёт?</font>

1. Абзац `<p id="paragraph">` будет **удалён из** container1.
2. Этот же абзац появится внутри container2.

```html
<div id="container1">
  <!-- Пусто -->
</div>

<div id="container2">
  <p id="paragraph">Этот текст будет перемещён.</p>
</div>
```

<font color="#fcb97d">`ris:Question`</font> Если вы используете .append() для элемента, который уже находится в DOM, он будет **перемещён**, а не скопирован. Чтобы оставить оригинал на месте и создать копию, используйте cloneNode():

```js
const clone = paragraph.cloneNode(true); // Клонируем элемент
container2.append(clone); // Добавляем копию
```


---
## Удаление элементов

Чтобы удалить элемент, используется метод element.remove().

```html
<p class="text">Random text content</p>
```

Он вызывается на элементе element, который нужно удалить.

```js
const text = document.querySelector(".text")
text.remove();
```

### Как работает:

```html
<article class="article">
  <h2 class="title">Article title</h2>
  <p class="text">Lorem ipsum dolor sit amet consectetur, adipisicing elit. Dolore, ipsa quibusdam! Praesentium accusantium fugiat distinctio quidem minima fugit eos, veniam, nam laboriosam deleniti nisi qui neque explicabo perspiciatis, consectetur non.</p>
<a class="link" href="">Read more</a>
</article>
```

```js
const text = document.querySelector('.text');
const article = document.querySelector('.article');
text.remove();
console.log(article);
```

![[Снимок экрана 2025-01-14 в 22.12.38.png|450]]

<font color="#fcb97d">`ris:Question`</font> Но также мы имеем доступ к удалённому тексту
`fas:ArrowDown`

```js
console.log(text);
```

![[Снимок экрана 2025-01-14 в 22.57.06.png|450]]
### **Объяснение:**

После вызова метода element.remove() элемент удаляется из **DOM** (то есть его больше нет на странице), но **JavaScript-ссылка на объект остаётся в памяти**. Это позволяет продолжать взаимодействовать с объектом через эту ссылку.

1. Что делает `remove()`?
	- Удаляет элемент из [[DOM]].
	- Это значит, что элемент больше не отображается на странице и больше не является частью структуры документа.

2. Почему объект всё ещё доступен в консоли?
	- Когда вы используете [[element.querySelector]], вы получаете **ссылку** на объект в памяти.
	- Вызов `remove()` удаляет элемент из DOM, но не удаляет сам объект из памяти. Вы можете продолжать обращаться к его свойствам или методам до тех пор, пока существует ссылка на этот объект.

### Итог:

После вызова `element.remove()` объект по-прежнему существует в памяти, пока на него есть ссылки. Он будет удалён из памяти автоматически, когда на него перестанет ссылаться какой-либо код (произойдёт сборка мусора).

---